# M1.0.5 - Order Tracking & Final QA Guide

**Release:** M1.0.5 - Order Tracking, POD, Final Polish  
**Status:** ðŸŸ¢ Ready - All APIs Confirmed  
**Duration:** 1 week  
**Start:** After M1.0.4 completion  
**Target:** February 20, 2026

---

## ðŸ“‹ FEATURES OVERVIEW

1. **Order Status Tracking** - Real-time status updates with timeline
2. **Proof of Delivery (POD)** - View delivery photos and validation
3. **Order Cancellation** - Cancel orders with refund processing
4. **Driver Location Polling** - Track driver during delivery
5. **Final QA & Polish** - Bug fixes, performance, UX improvements

---

## ðŸ“¦ FEATURE 1: ORDER STATUS TRACKING

### Order Status Lifecycle

**7 Statuses:**
1. **Pending** (ID: 1) - Order created, awaiting vendor acceptance
2. **Accepted** (ID: 2) - Vendor accepted, preparing order
3. **Out for Delivery** (ID: 3) - Driver en route
4. **Delivered** (ID: 4) - Successfully delivered
5. **Cancelled** (ID: 5) - Order cancelled
6. **Rejected** (ID: 6) - Vendor rejected order
7. **Failed Delivery** (ID: 7) - Delivery attempted but failed

### API Specification

**Endpoint:** `GET /api/v1/client/orders/{id}`

**Response:**
```json
{
  "id": 456,
  "orderNumber": "ORD-456",
  "statusId": 3,
  "statusName": "Out for Delivery",
  "totalAmount": 50.00,
  "paymentMethod": "Wallet",
  "createdAt": "2026-01-15T10:00:00Z",
  "estimatedDeliveryTime": "2026-01-15T14:00:00Z",
  
  "items": [
    {
      "id": 789,
      "productId": 5,
      "productName": "Premium Water 5 Gallon",
      "quantity": 2,
      "unitPrice": 25.00,
      "totalPrice": 50.00
    }
  ],
  
  "deliveryAddress": {
    "address": "Building 45, Zone 52, Doha",
    "latitude": 25.276987,
    "longitude": 51.520008,
    "notes": "Ring doorbell twice"
  },
  
  "driver": {
    "id": 12,
    "name": "Mohammed Ali",
    "phone": "+974-5555-1234",
    "currentLatitude": 25.275000,
    "currentLongitude": 51.519000,
    "estimatedArrival": "2026-01-15T13:45:00Z"
  },
  
  "statusHistory": [
    {
      "statusId": 1,
      "statusName": "Pending",
      "timestamp": "2026-01-15T10:00:00Z",
      "note": null
    },
    {
      "statusId": 2,
      "statusName": "Accepted",
      "timestamp": "2026-01-15T10:15:00Z",
      "note": "Vendor: Rayyan Water accepted your order"
    },
    {
      "statusId": 3,
      "statusName": "Out for Delivery",
      "timestamp": "2026-01-15T12:30:00Z",
      "note": "Driver Mohammed Ali is on the way"
    }
  ],
  
  "proofOfDelivery": null
}
```

### Implementation: Order Tracking Screen (3 hours)

**File:** `lib/features/orders/presentation/screens/order_tracking_screen.dart`

```dart
class OrderTrackingScreen extends StatefulWidget {
  final int orderId;

  const OrderTrackingScreen({required this.orderId});

  @override
  _OrderTrackingScreenState createState() => _OrderTrackingScreenState();
}

class _OrderTrackingScreenState extends State<OrderTrackingScreen> {
  final OrderController _controller = Get.find<OrderController>();
  Timer? _pollingTimer;
  
  @override
  void initState() {
    super.initState();
    _loadOrder();
    _startPolling();
  }

  Future<void> _loadOrder() async {
    await _controller.getOrderById(widget.orderId);
  }

  void _startPolling() {
    // Poll every 10 seconds for order status updates
    _pollingTimer = Timer.periodic(Duration(seconds: 10), (timer) {
      if (mounted) {
        final order = _controller.currentOrder.value;
        
        // Stop polling if order is in final state
        if (order != null && _isFinalStatus(order.statusId)) {
          timer.cancel();
        } else {
          _loadOrder();
        }
      } else {
        timer.cancel();
      }
    });
  }

  bool _isFinalStatus(int statusId) {
    return statusId == 4 || // Delivered
           statusId == 5 || // Cancelled
           statusId == 6 || // Rejected
           statusId == 7;   // Failed
  }

  @override
  Widget build(BuildContext context) {
    return Scaffold(
      appBar: AppBar(
        title: Text('Track Order'),
      ),
      body: Obx(() {
        final order = _controller.currentOrder.value;
        
        if (order == null) {
          return Center(child: CircularProgressIndicator());
        }

        return RefreshIndicator(
          onRefresh: _loadOrder,
          child: SingleChildScrollView(
            physics: AlwaysScrollableScrollPhysics(),
            padding: EdgeInsets.all(16),
            child: Column(
              crossAxisAlignment: CrossAxisAlignment.start,
              children: [
                // Order Number and Status Badge
                _buildOrderHeader(order),
                SizedBox(height: 24),
                
                // Map (if driver assigned)
                if (order.statusId == 3 && order.driver != null)
                  _buildDriverMap(order),
                
                SizedBox(height: 24),
                
                // Status Timeline
                _buildStatusTimeline(order),
                
                SizedBox(height: 24),
                
                // Order Items
                _buildOrderItems(order),
                
                SizedBox(height: 24),
                
                // Delivery Address
                _buildDeliveryAddress(order),
                
                SizedBox(height: 24),
                
                // POD (if delivered)
                if (order.proofOfDelivery != null)
                  _buildProofOfDelivery(order.proofOfDelivery!),
                
                SizedBox(height: 24),
                
                // Action Buttons
                _buildActionButtons(order),
              ],
            ),
          ),
        );
      }),
    );
  }

  Widget _buildOrderHeader(OrderModel order) {
    return Card(
      child: Padding(
        padding: EdgeInsets.all(16),
        child: Column(
          crossAxisAlignment: CrossAxisAlignment.start,
          children: [
            Row(
              mainAxisAlignment: MainAxisAlignment.spaceBetween,
              children: [
                Text(
                  order.orderNumber,
                  style: TextStyle(
                    fontSize: 18,
                    fontWeight: FontWeight.bold,
                  ),
                ),
                _buildStatusBadge(order),
              ],
            ),
            SizedBox(height: 8),
            Text(
              'Placed: ${DateFormat('MMM d, yyyy h:mm a').format(order.createdAt)}',
              style: TextStyle(color: Colors.grey),
            ),
            if (order.estimatedDeliveryTime != null) ...[
              SizedBox(height: 4),
              Text(
                'Est. Delivery: ${DateFormat('h:mm a').format(order.estimatedDeliveryTime!)}',
                style: TextStyle(
                  color: AppColors.primary,
                  fontWeight: FontWeight.w500,
                ),
              ),
            ],
          ],
        ),
      ),
    );
  }

  Widget _buildStatusBadge(OrderModel order) {
    Color badgeColor;
    switch (order.statusId) {
      case 1: badgeColor = Colors.orange; break;
      case 2: badgeColor = Colors.blue; break;
      case 3: badgeColor = Colors.purple; break;
      case 4: badgeColor = Colors.green; break;
      case 5:
      case 6:
      case 7: badgeColor = Colors.red; break;
      default: badgeColor = Colors.grey;
    }

    return Container(
      padding: EdgeInsets.symmetric(horizontal: 12, vertical: 6),
      decoration: BoxDecoration(
        color: badgeColor,
        borderRadius: BorderRadius.circular(20),
      ),
      child: Text(
        order.statusName,
        style: TextStyle(
          color: Colors.white,
          fontWeight: FontWeight.bold,
          fontSize: 12,
        ),
      ),
    );
  }

  Widget _buildDriverMap(OrderModel order) {
    return Container(
      height: 250,
      decoration: BoxDecoration(
        borderRadius: BorderRadius.circular(12),
        border: Border.all(color: Colors.grey[300]!),
      ),
      child: ClipRRect(
        borderRadius: BorderRadius.circular(12),
        child: GoogleMap(
          initialCameraPosition: CameraPosition(
            target: LatLng(
              order.deliveryAddress.latitude,
              order.deliveryAddress.longitude,
            ),
            zoom: 14,
          ),
          markers: {
            // Delivery address marker
            Marker(
              markerId: MarkerId('delivery'),
              position: LatLng(
                order.deliveryAddress.latitude,
                order.deliveryAddress.longitude,
              ),
              icon: BitmapDescriptor.defaultMarkerWithHue(
                BitmapDescriptor.hueGreen,
              ),
              infoWindow: InfoWindow(title: 'Delivery Location'),
            ),
            
            // Driver marker
            if (order.driver != null)
              Marker(
                markerId: MarkerId('driver'),
                position: LatLng(
                  order.driver!.currentLatitude,
                  order.driver!.currentLongitude,
                ),
                icon: BitmapDescriptor.defaultMarkerWithHue(
                  BitmapDescriptor.hueBlue,
                ),
                infoWindow: InfoWindow(
                  title: order.driver!.name,
                  snippet: 'Arriving at ${DateFormat('h:mm a').format(order.driver!.estimatedArrival)}',
                ),
              ),
          },
          myLocationButtonEnabled: true,
        ),
      ),
    );
  }

  Widget _buildStatusTimeline(OrderModel order) {
    return Card(
      child: Padding(
        padding: EdgeInsets.all(16),
        child: Column(
          crossAxisAlignment: CrossAxisAlignment.start,
          children: [
            Text(
              'Order Timeline',
              style: TextStyle(
                fontSize: 16,
                fontWeight: FontWeight.bold,
              ),
            ),
            SizedBox(height: 16),
            
            ...order.statusHistory.asMap().entries.map((entry) {
              final index = entry.key;
              final status = entry.value;
              final isLast = index == order.statusHistory.length - 1;
              
              return _buildTimelineItem(status, isLast);
            }).toList(),
          ],
        ),
      ),
    );
  }

  Widget _buildTimelineItem(OrderStatusHistory status, bool isLast) {
    return Row(
      crossAxisAlignment: CrossAxisAlignment.start,
      children: [
        Column(
          children: [
            Container(
              width: 24,
              height: 24,
              decoration: BoxDecoration(
                color: AppColors.primary,
                shape: BoxShape.circle,
              ),
              child: Icon(
                Icons.check,
                color: Colors.white,
                size: 16,
              ),
            ),
            if (!isLast)
              Container(
                width: 2,
                height: 40,
                color: Colors.grey[300],
              ),
          ],
        ),
        SizedBox(width: 12),
        Expanded(
          child: Padding(
            padding: EdgeInsets.only(bottom: isLast ? 0 : 16),
            child: Column(
              crossAxisAlignment: CrossAxisAlignment.start,
              children: [
                Text(
                  status.statusName,
                  style: TextStyle(
                    fontWeight: FontWeight.bold,
                    fontSize: 15,
                  ),
                ),
                SizedBox(height: 2),
                Text(
                  DateFormat('MMM d, h:mm a').format(status.timestamp),
                  style: TextStyle(
                    color: Colors.grey,
                    fontSize: 13,
                  ),
                ),
                if (status.note != null) ...[
                  SizedBox(height: 4),
                  Text(
                    status.note!,
                    style: TextStyle(fontSize: 13),
                  ),
                ],
              ],
            ),
          ),
        ),
      ],
    );
  }

  Widget _buildOrderItems(OrderModel order) {
    return Card(
      child: Padding(
        padding: EdgeInsets.all(16),
        child: Column(
          crossAxisAlignment: CrossAxisAlignment.start,
          children: [
            Text(
              'Order Items',
              style: TextStyle(
                fontSize: 16,
                fontWeight: FontWeight.bold,
              ),
            ),
            SizedBox(height: 12),
            
            ...order.items.map((item) {
              return Padding(
                padding: EdgeInsets.only(bottom: 8),
                child: Row(
                  mainAxisAlignment: MainAxisAlignment.spaceBetween,
                  children: [
                    Expanded(
                      child: Text(
                        '${item.quantity}x ${item.productName}',
                        style: TextStyle(fontSize: 14),
                      ),
                    ),
                    Text(
                      '${item.totalPrice.toStringAsFixed(2)} QAR',
                      style: TextStyle(
                        fontWeight: FontWeight.w500,
                      ),
                    ),
                  ],
                ),
              );
            }).toList(),
            
            Divider(),
            
            Row(
              mainAxisAlignment: MainAxisAlignment.spaceBetween,
              children: [
                Text(
                  'Total',
                  style: TextStyle(
                    fontSize: 16,
                    fontWeight: FontWeight.bold,
                  ),
                ),
                Text(
                  '${order.totalAmount.toStringAsFixed(2)} QAR',
                  style: TextStyle(
                    fontSize: 16,
                    fontWeight: FontWeight.bold,
                    color: AppColors.primary,
                  ),
                ),
              ],
            ),
          ],
        ),
      ),
    );
  }

  Widget _buildDeliveryAddress(OrderModel order) {
    return Card(
      child: Padding(
        padding: EdgeInsets.all(16),
        child: Column(
          crossAxisAlignment: CrossAxisAlignment.start,
          children: [
            Text(
              'Delivery Address',
              style: TextStyle(
                fontSize: 16,
                fontWeight: FontWeight.bold,
              ),
            ),
            SizedBox(height: 8),
            Text(order.deliveryAddress.address),
            if (order.deliveryAddress.notes != null) ...[
              SizedBox(height: 4),
              Text(
                'Note: ${order.deliveryAddress.notes}',
                style: TextStyle(
                  fontStyle: FontStyle.italic,
                  color: Colors.grey[600],
                ),
              ),
            ],
          ],
        ),
      ),
    );
  }

  Widget _buildProofOfDelivery(ProofOfDelivery pod) {
    return Card(
      child: Padding(
        padding: EdgeInsets.all(16),
        child: Column(
          crossAxisAlignment: CrossAxisAlignment.start,
          children: [
            Row(
              mainAxisAlignment: MainAxisAlignment.spaceBetween,
              children: [
                Text(
                  'Proof of Delivery',
                  style: TextStyle(
                    fontSize: 16,
                    fontWeight: FontWeight.bold,
                  ),
                ),
                if (pod.isGeofenceValid)
                  Container(
                    padding: EdgeInsets.symmetric(horizontal: 8, vertical: 4),
                    decoration: BoxDecoration(
                      color: Colors.green,
                      borderRadius: BorderRadius.circular(12),
                    ),
                    child: Row(
                      mainAxisSize: MainAxisSize.min,
                      children: [
                        Icon(Icons.verified, color: Colors.white, size: 14),
                        SizedBox(width: 4),
                        Text(
                          'Verified',
                          style: TextStyle(
                            color: Colors.white,
                            fontSize: 11,
                            fontWeight: FontWeight.bold,
                          ),
                        ),
                      ],
                    ),
                  )
                else
                  TextButton.icon(
                    icon: Icon(Icons.report_problem, color: Colors.red, size: 16),
                    label: Text('Report Issue'),
                    onPressed: () => _reportPODIssue(pod),
                  ),
              ],
            ),
            SizedBox(height: 12),
            
            if (pod.photoUrl != null)
              ClipRRect(
                borderRadius: BorderRadius.circular(8),
                child: CachedNetworkImage(
                  imageUrl: pod.photoUrl!,
                  width: double.infinity,
                  fit: BoxFit.cover,
                ),
              ),
            
            SizedBox(height: 12),
            
            Row(
              children: [
                Icon(Icons.person, size: 16, color: Colors.grey),
                SizedBox(width: 8),
                Text('Delivered by: ${pod.deliveryPersonName}'),
              ],
            ),
            SizedBox(height: 4),
            Row(
              children: [
                Icon(Icons.access_time, size: 16, color: Colors.grey),
                SizedBox(width: 8),
                Text(DateFormat('MMM d, yyyy h:mm a').format(pod.deliveryTime)),
              ],
            ),
          ],
        ),
      ),
    );
  }

  Widget _buildActionButtons(OrderModel order) {
    return Column(
      children: [
        if (order.statusId == 1 || order.statusId == 2)
          SizedBox(
            width: double.infinity,
            height: 48,
            child: OutlinedButton.icon(
              icon: Icon(Icons.cancel),
              label: Text('Cancel Order'),
              style: OutlinedButton.styleFrom(
                foregroundColor: Colors.red,
                side: BorderSide(color: Colors.red),
              ),
              onPressed: () => _cancelOrder(order),
            ),
          ),
        
        if (order.statusId == 4 && !_hasReviewed(order))
          SizedBox(
            width: double.infinity,
            height: 48,
            child: ElevatedButton.icon(
              icon: Icon(Icons.star),
              label: Text('Rate Supplier'),
              onPressed: () => _rateSupplier(order),
            ),
          ),
        
        if (order.statusId == 4)
          SizedBox(
            width: double.infinity,
            height: 48,
            child: OutlinedButton.icon(
              icon: Icon(Icons.report_problem),
              label: Text('Report Issue'),
              onPressed: () => _reportIssue(order),
            ),
          ),
      ],
    );
  }

  bool _hasReviewed(OrderModel order) {
    // Check if review already submitted
    return false; // Implement actual check
  }

  Future<void> _cancelOrder(OrderModel order) async {
    final confirmed = await showDialog<bool>(
      context: context,
      builder: (context) => AlertDialog(
        title: Text('Cancel Order?'),
        content: Text('Are you sure you want to cancel this order?'),
        actions: [
          TextButton(
            onPressed: () => Navigator.pop(context, false),
            child: Text('No'),
          ),
          ElevatedButton(
            onPressed: () => Navigator.pop(context, true),
            style: ElevatedButton.styleFrom(backgroundColor: Colors.red),
            child: Text('Yes, Cancel'),
          ),
        ],
      ),
    );

    if (confirmed == true) {
      await _controller.cancelOrder(order.id);
    }
  }

  void _rateSupplier(OrderModel order) {
    Get.to(() => SubmitReviewScreen(
      orderId: order.id,
      supplierId: order.supplierId,
      supplierName: order.supplierName,
    ));
  }

  void _reportIssue(OrderModel order) {
    Get.to(() => DisputeAlertDialog(
      orderId: order.id,
      orderItems: order.items,
    ));
  }

  void _reportPODIssue(ProofOfDelivery pod) {
    // Navigate to dispute creation with POD issue
  }

  @override
  void dispose() {
    _pollingTimer?.cancel();
    super.dispose();
  }
}
```

---

## ðŸ“¸ FEATURE 2: PROOF OF DELIVERY

### POD Data Structure

```dart
class ProofOfDelivery {
  final int id;
  final String? photoUrl;
  final double deliveryLatitude;
  final double deliveryLongitude;
  final bool isGeofenceValid;
  final double distanceFromAddress;
  final String deliveryPersonName;
  final DateTime deliveryTime;
  final String? notes;

  ProofOfDelivery({
    required this.id,
    this.photoUrl,
    required this.deliveryLatitude,
    required this.deliveryLongitude,
    required this.isGeofenceValid,
    required this.distanceFromAddress,
    required this.deliveryPersonName,
    required this.deliveryTime,
    this.notes,
  });

  factory ProofOfDelivery.fromJson(Map<String, dynamic> json) {
    return ProofOfDelivery(
      id: json['id'] as int,
      photoUrl: json['photoUrl'] as String?,
      deliveryLatitude: (json['deliveryLatitude'] as num).toDouble(),
      deliveryLongitude: (json['deliveryLongitude'] as num).toDouble(),
      isGeofenceValid: json['isGeofenceValid'] as bool,
      distanceFromAddress: (json['distanceFromAddress'] as num).toDouble(),
      deliveryPersonName: json['deliveryPersonName'] as String,
      deliveryTime: DateTime.parse(json['deliveryTime'] as String),
      notes: json['notes'] as String?,
    );
  }

  String get distanceText {
    if (distanceFromAddress < 1000) {
      return '${distanceFromAddress.toStringAsFixed(0)}m from address';
    } else {
      return '${(distanceFromAddress / 1000).toStringAsFixed(2)}km from address';
    }
  }
}
```

### Geofence Validation
- Backend validates delivery GPS vs order address
- Within 100m = valid
- Beyond 100m = invalid (show warning)
- Customer can report issue if invalid

---

## âŒ FEATURE 3: ORDER CANCELLATION

### API Specification

**Endpoint:** `POST /api/v1/client/orders/{id}/cancel`

**Request:**
```json
{
  "reason": "Changed my mind",
  "comments": "Optional additional details"
}
```

**Business Rules:**
1. **Status = Pending:** Immediate cancellation, full refund
2. **Status = Accepted:** Requires vendor approval, refund pending
3. **Status = Out for Delivery:** Cannot cancel (contact support)
4. **Status >= Delivered:** Cannot cancel (create dispute instead)

**Response:**
```json
{
  "cancellationId": 89,
  "orderId": 456,
  "status": "APPROVED",
  "refundStatus": "PROCESSED",
  "refundAmount": 50.00,
  "refundMethod": "Wallet",
  "processedAt": "2026-01-15T11:00:00Z"
}
```

### Implementation (1 hour)

```dart
class OrderController extends GetxController {
  Future<void> cancelOrder(int orderId, {String? reason}) async {
    try {
      isLoading.value = true;

      final response = await _repository.cancelOrder(
        orderId: orderId,
        reason: reason ?? 'Customer requested cancellation',
      );

      response.fold(
        (failure) {
          Get.snackbar(
            'Error',
            failure.message,
            backgroundColor: Colors.red,
            colorText: Colors.white,
          );
        },
        (cancellation) {
          Get.snackbar(
            'Order Cancelled',
            'Refund of ${cancellation.refundAmount.toStringAsFixed(2)} QAR processed to ${cancellation.refundMethod}',
            backgroundColor: Colors.green,
            colorText: Colors.white,
            duration: Duration(seconds: 5),
          );
          
          // Refresh order
          getOrderById(orderId);
        },
      );
    } finally {
      isLoading.value = false;
    }
  }
}
```

---

## ðŸš— FEATURE 4: DRIVER LOCATION POLLING

### Implementation Strategy

**Polling Frequency:**
- Poll every 30 seconds when status = "Out for Delivery"
- Stop when status changes to Delivered/Cancelled

**Driver Data Endpoint:**
`GET /api/v1/client/orders/{id}` already includes driver location in response

```dart
class DriverLocationTracker {
  Timer? _locationTimer;
  final OrderController _orderController;

  DriverLocationTracker(this._orderController);

  void startTracking(int orderId) {
    _locationTimer = Timer.periodic(Duration(seconds: 30), (timer) async {
      final order = await _orderController.getOrderById(orderId);
      
      if (order == null || order.statusId != 3) {
        // Stop if order not found or not out for delivery
        stopTracking();
      }
    });
  }

  void stopTracking() {
    _locationTimer?.cancel();
    _locationTimer = null;
  }
}
```

---

## ðŸŽ¨ FEATURE 5: FINAL QA & POLISH

### Performance Optimization (1 day)

**1. Image Caching**
- Implement proper cache headers
- Use CachedNetworkImage everywhere
- Set cache duration: 7 days for products, 1 day for POD

**2. Pagination Optimization**
- Ensure all lists use pagination
- Load more threshold: 200px before end
- Show loading indicators during pagination

**3. Network Optimization**
- Implement request debouncing for search
- Cancel in-flight requests when navigating away
- Use connection pooling in Dio

### UX Improvements (1 day)

**1. Loading States**
- Skeleton loaders for lists
- Shimmer effect on cards
- Progress indicators for long operations

**2. Error Handling**
- Retry buttons on failed requests
- Offline mode messages
- User-friendly error messages

**3. Empty States**
- Custom illustrations for empty lists
- Clear call-to-action buttons
- Helpful messages

### Bug Fixes (1 day)

**Priority Bugs to Fix:**
1. Token refresh race conditions
2. Image loading failures
3. Date/time timezone handling
4. Form validation edge cases
5. Navigation stack issues
6. Memory leaks in controllers

### Testing Checklist (2 days)

**Functional Testing:**
- [ ] All CRUD operations work
- [ ] Pagination loads correctly
- [ ] Search/filter works
- [ ] Forms validate properly
- [ ] API errors handled
- [ ] Navigation flows correct

**Performance Testing:**
- [ ] App launches < 3 seconds
- [ ] List scrolling smooth (60fps)
- [ ] Images load progressively
- [ ] No memory leaks
- [ ] Low battery/data usage

**Edge Cases:**
- [ ] No internet connection
- [ ] Token expiry mid-operation
- [ ] Empty data sets
- [ ] Maximum field lengths
- [ ] Invalid inputs
- [ ] Concurrent operations

**Platforms:**
- [ ] Android (API 21+)
- [ ] iOS (iOS 12+)
- [ ] Different screen sizes
- [ ] Arabic RTL layout
- [ ] Dark mode (if supported)

---

## âœ… ACCEPTANCE CRITERIA

### M1.0.5 Complete When:

**Order Tracking:**
- [ ] Real-time status updates (polling)
- [ ] Status timeline displays correctly
- [ ] Driver location shown on map
- [ ] Estimated delivery time shown
- [ ] Final states stop polling

**Proof of Delivery:**
- [ ] POD photo displayed
- [ ] Geofence validation shown
- [ ] Delivery details complete
- [ ] Report issue button works

**Order Cancellation:**
- [ ] Can cancel Pending orders
- [ ] Confirmation dialog shown
- [ ] Refund processed correctly
- [ ] Cannot cancel delivered orders

**Performance:**
- [ ] No crashes or ANRs
- [ ] Smooth scrolling
- [ ] Fast image loading
- [ ] Memory usage < 150MB

**Quality:**
- [ ] All acceptance criteria from M1.0.2-M1.0.4 still pass
- [ ] No regression bugs
- [ ] Code reviewed and approved
- [ ] Ready for production release

---

**END OF M1.0.5 GUIDE**

**PROJECT COMPLETION:** All M1.0.2-M1.0.5 releases planned and ready for implementation!
